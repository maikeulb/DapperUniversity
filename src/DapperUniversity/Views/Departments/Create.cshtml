@model DapperUniversity.Models.Department
@{
    ViewData["Title"] = "Departments";
}

<main>
  <div class="col-lg-6 col-sm-12">
    <div class="mb-4">
      <h2 class="mb-3">Create Department</h2>
      <hr />
      <form asp-action="Create" class="needs-validation" novalidate>
        <div asp-validation-summary="ModelOnly" class="text-danger"></div>
        <div class="form-group">
          <label for="name-valid" asp-for="Name" class="control-label"></label>
          <input id="valid-name" asp-for="Name" class="form-control" required/>
          <span asp-validation-for="Name" class="text-danger"></span>
          <div class="invalid-feedback">
            Please enter department name.
          </div>
        </div>
        <div class="form-group">
          <label for="budget-valid" asp-for="Budget" class="control-label"></label>
          <input id="valid-budget" asp-for="Budget" class="form-control" required/>
          <span asp-validation-for="Budget" class="text-danger" required></span>
          <div class="invalid-feedback">
            Please enter the department budget.
          </div>
        </div>
        <div class="form-group">
          <label for="startdate-valid" asp-for="StartDate" class="control-label"></label>
          <input id="valid-startdate" asp-for="StartDate" class="form-control"
          type="date" required/>
          <span asp-validation-for="StartDate" class="text-danger" required></span>
          <div class="invalid-feedback">
            Please enter the start date.
          </div>
        </div>
        <div class="form-group">
          <label for="instructorid-valid" asp-for="InstructorId" class="control-label"></label>
          <select id="valid-instructorid" asp-for="InstructorId" class ="form-control"
            asp-items="(SelectList)ViewBag.InstructorId" required>
            <option value="">-- Select Instructor --</option>
          </select>
          <span asp-validation-for="InstructorId" class="text-danger"
            required></span>
          <div class="invalid-feedback">
            Please select instructor.
          </div>
        </div>
        <div class="d-flex flex-row mt-4">
          <div class="form-group">
            <input type="submit" value="Create" class="btn btn-default" />
          </div>
          <div>
            <a asp-action="Index" class="btn btn-link">Back to List</a>
          </div>
        </div>
      </form>
    </div>
  </div>
</main>

@section scripts
{
  <script>
  (function() {
    'use strict';
    window.addEventListener('load', function() {
      var forms = document.getElementsByClassName('needs-validation');
      var validation = Array.prototype.filter.call(forms, function(form) {
        form.addEventListener('submit', function(event) {
          if (form.checkValidity() === false) {
            event.preventDefault();
            event.stopPropagation();
          }
          form.classList.add('was-validated');
        }, false);
      });
    }, false);
  })();
  </script>
}
