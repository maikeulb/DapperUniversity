@model DapperUniversity.ViewModels.CourseEditViewModel
@{
    ViewData["Title"] = "Course";
}

<main>
  <div class="col-lg-6 col-sm-12">
    <div class="mb-4">
      <h2 class="mb-3"> Edit Course</h2>
      <hr />
      <form asp-action="Edit" class="needs-validation" novalidate>
        <div asp-validation-summary="ModelOnly" class="text-danger"></div>
        <input asp-for="Course.Id" value="@Model.Course.Id" hidden>
        <div class="form-group">
          <label for="courseid-valid" asp-for="Course.Id" class="control-label"></label>
          <input id="valid-cust-username" asp-for="Course.Id" class="form-control" required/>
          <span asp-validation-for="Course.Id" class="text-danger"></span>
          <div class="invalid-feedback">
            Please enter course number.
          </div>
        </div>
        <div class="form-group">
          <label for="departmentid-valid" asp-for="Course.Title" class="control-label"></label>
          <input id="valid-cust-title" asp-for="Course.Title"
          class="form-control" required/>
          <span asp-validation-for="Course.Title" class="text-danger" required></span>
          <div class="invalid-feedback">
            Please enter course title.
          </div>
        </div>
        <div class="form-group">
          <label for="course-credit-valid" asp-for="Course.Credits" class="control-label"></label>
          <select for="valid-course-credit" asp-for="Course.Credits"
            class="form-control" id="exampleFormControlSelect1" required>
            <option value="">-- Select Credits --</option>
            <option>1</option>
            <option>2</option>
            <option>3</option>
            <option>4</option>
            <option>5</option>
          </select>
          <span asp-validation-for="Course.Credits" class="text-danger"
            required></span>
          <div class="invalid-feedback">
            Please select number of credits.
          </div>
        </div>
        <div class="form-group">
          <label for="departmentid-valid" asp-for="Course.DepartmentId" class="control-label"></label>
          <select id="valid-departmentid" asp-for="Course.DepartmentId" class ="form-control"
            asp-items="Model.Department" required>
            <option value="">-- Select Department --</option>
          </select>
          <span asp-validation-for="Course.DepartmentId" class="text-danger"
            required></span>
          <div class="invalid-feedback">
            Please select a department.
          </div>
        </div>
        <div class="d-flex flex-row mt-4">
          <div class="form-group">
            <input type="submit" value="Edit" class="btn btn-default" />
          </div>
          <div>
            <a asp-action="Index" class="btn btn-link">Back to List</a>
          </div>
        </div>
      </form>
    </div>
  </div>
</main>

@section scripts
{
  <script>
  (function() {
    'use strict';
    window.addEventListener('load', function() {
      var forms = document.getElementsByClassName('needs-validation');
      var validation = Array.prototype.filter.call(forms, function(form) {
        form.addEventListener('submit', function(event) {
          if (form.checkValidity() === false) {
            event.preventDefault();
            event.stopPropagation();
          }
          form.classList.add('was-validated');
        }, false);
      });
    }, false);
  })();
  </script>
}
